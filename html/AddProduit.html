<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="../Css/AddProduct.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AddProduct</title>
</head>

<body background="../login-background.jpg">
    <div id="formContainer">
        <h2>Ajouter un nouveau produit</h2>
        <form method="post" id="formulaire">
            <label for="nameProduct">Nom du produit</label>
            <input type="text" id="nameProduct"><br>
            <label for="Description">Description</label>
            <input type="text" id="Description"><br>
            <label for="Images">Ins√©rez des images du produit</label>
            <input type="file" id="Images" accept="image/jpeg, image/png, image/jpg" multiple="multiple"><br>
            <output></output>
            <label for="Price">Prix</label>
            <input type="text" id="Price"><br>
            <label for="Type">Type</label>
            <input type="text" id="Type"><br>
            <label for="Tags">Tags</label>
            <input type="text" id="Tags"><br>
            <input type="submit" value="Soumettre" id="button" />
        </form>
    </div>

    <script>
        const form = document.getElementById("formulaire");

        form.addEventListener("submit", function(event) {
            event.preventDefault();

            const nameProduct = document.getElementById("nameProduct").value;
            const Description = document.getElementById("Description").value;
            const price = document.getElementById("Price").value;
            const tag = document.getElementById("Tags").value;
            const type = document.getElementById("Type").value;

            const data = { nameProduct, Description, price, tag, type };
        });

        function displayImages() {
          let images = ""
          imagesArray.forEach((image, index) => {
            images += `<div class="image">
                        <img src="${URL.createObjectURL(image)}" alt="image">
                        <span onclick="deleteImage(${index})">&times;</span>
                      </div>`
          })
          output.innerHTML = images
        }

        function deleteImage(index) {
          imagesArray.splice(index, 1)
          displayImages()
        }


        let imagesArray = []
        const input = document.getElementById("Images")
        const output = document.querySelector("output")
        input.addEventListener("change", () => {
            const files = input.files
            for (let i = 0; i < files.length; i++) {
                imagesArray.push(files[i])
            }
            displayImages()
        })

        console.log(input, output, imagesArray);
    
    
    </script>
</body>
</html>